# test-architecuture

このプロジェクトは、テスト設計についてのZenn記事用で作成しているものである

## テスト設計について

### 根幹の思想

テストコードに求めている性質は、以下の通りである。

- リファクタリングへの耐性（リファクタリングに対してテストコードの変更を必要としない）
- 退行に対する保護
- 保守のしやすさ
- 迅速なフィードバック（結合テストであれば必要ない）

特に上記の2つがテストコードに求める条件である。

これを実現するためのテスト手法としては、以下を採用することとする

- テスト手法は、例外は認めることとしても基本的には出力値ベーステスト
- それぞれのテストケースに対しては、3Aパターン（Arrange-Act-Assert）を採用する
- モックを置くのはプロセス外依存限定で、なるべくこのアプリケーションと外部ソフトウェアの境界部分に適用する（ライブラリに対しても、それ自体をモックで置くのはダメ）
- テスト対象システムの関数やインスタンスは、sut（system under test）という命名を行うこととする。ただし、setServiceなどの発展形はOK
- リファクタリングに対する耐性をつけるために、Assertが実装の詳細に触れることは厳禁とし、外部から観測できる振る舞い（返り値などは良い例）のみを対象とする